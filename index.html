<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Виза в Северную Корею</title>
    <meta name="description" content="Сайт kndr.visa.kr поможет вам быстро и без заморочки оформить визу и уже завтра поехать в гости к Ким Чен Ыну!">
    <meta name="author" content="KVI">
    <meta name="robots" content="index, follow">
    <!--  Preload fonts if possible, improve performance -->
    <link rel="preload" href="path/to/your/font.woff2" as="font" type="font/woff2" crossorigin>

    <style>
        /* ---  Existing Styles (from previous code) --- */
        *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; background-color: #f4f4f4; color: #333; display: flex; flex-direction: column; min-height: 100vh; background: linear-gradient(135deg, #f4f4f4 0%, #e0e0e0 100%);}
        header { background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%); color: #fff; padding: 1rem 0; text-align: center; position: sticky; top: 0; z-index: 100; box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);}
        .nav-toggle { display: none; cursor: pointer; padding: 10px; background: transparent; border: none; position: absolute; left: 1rem; top: 50%; transform: translateY(-50%); }
        .nav-toggle-bar { display: block; width: 25px; height: 3px; background-color: white; margin: 5px 0; transition: transform 0.3s, opacity 0.3s;}
        nav ul { list-style: none; display: flex; justify-content: center; gap: 1rem;}
        nav ul.mobile-nav { display: none; flex-direction: column; position: absolute; top: 100%; left: 0; width: 100%; background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%); text-align: center; box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);}
        nav ul.mobile-nav.show { display: flex; }
        nav a { color: #fff; text-decoration: none; font-weight: bold; transition: color 0.3s ease; padding: 0.5rem 1rem; display: inline-block; border-radius: 4px;}
        nav a:hover, nav a:focus { color: #ecf0f1; background-color: rgba(255, 255, 255, 0.1);}
        .nav-toggle.open .nav-toggle-bar:nth-child(1) { transform: translateY(8px) rotate(45deg); }
        .nav-toggle.open .nav-toggle-bar:nth-child(2) { opacity: 0; }
        .nav-toggle.open .nav-toggle-bar:nth-child(3) { transform: translateY(-8px) rotate(-45deg); }
        main { flex-grow: 1;}
        .plans-container { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; padding: 1.5rem; max-width: 1200px; margin: 0 auto;}
        .plan { background-color: #fff; border-radius: 8px; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); padding: 1.5rem; text-align: center; transition: transform 0.3s ease, box-shadow 0.3s ease; border: 1px solid #ddd;}
        .plan:hover { transform: translateY(-5px); box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);}
        .plan h3 { font-size: 1.5rem; margin-bottom: 1rem; color: #2c3e50;}
        .plan ul { list-style: none; margin-bottom: 1.5rem; text-align: left;}
        .plan li { padding: 0.5rem 0; border-bottom: 1px solid #eee; display: flex; align-items: center;}
        .plan li:last-child { border-bottom: none; }
        .plan .price { font-size: 1.2rem; font-weight: bold; color: #e74c3c;}
        h1, h2, h3 { text-align: center; margin-top: 1.5rem; margin-bottom: 1rem; color: #2c3e50; line-height: 1.2;}
        h1 { font-size: 2.5rem; }
        h2 { font-size: 2rem; }
        .contact-section { color: #fff; padding: 1.5rem; text-align: center; border-radius: 8px; max-width: 800px; margin: 1.5rem auto; margin-top: 0.5rem;}
        .contact-section h2 { margin-bottom: 1rem; color: #fff; }
        .contact-section p { margin-bottom: 0.5rem; }
        .north-korea-image { display: block; margin: 1.5rem auto; max-width: 50%; height: auto; border-radius: 8px; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3); transition: transform 0.3s ease, box-shadow 0.3s ease;}
        .north-korea-image:hover { transform: scale(1.05); box-shadow: 0 8px 16px rgba(0,0,0,0.4) }
        section { padding-top: 4rem; scroll-margin-top: 4rem;}
        .cta-button { display: inline-block; background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%); color: white; padding: 0.75rem 1.5rem; text-decoration: none; border-radius: 4px; margin-top: 1rem; transition: background-color 0.3s ease; border: none; cursor: pointer; font-weight: bold; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);}
        .cta-button:hover, .cta-button:focus { background: linear-gradient(135deg, #c0392b 0%, #a0291a 100%); outline: none;}
        .faq-section { max-width: 800px; margin: 0 auto; padding: 1.5rem; }
        .faq-item { margin-bottom: 1rem; border-bottom: 1px solid #ddd; }
        .faq-question { font-weight: bold; cursor: pointer; display: flex; justify-content: space-between; align-items: center; padding: .5rem 0; }
        .faq-answer { padding: 0.5rem 0; display: none;}
        .faq-item.active .faq-answer { display: block;}
        .faq-icon { font-size: 1.2em; transition: transform 0.3s ease;}
        .faq-item.active .faq-icon{ transform: rotate(45deg); }
        .our-team-section { max-width: 1200px; margin: 0 auto; padding: 1.5rem; text-align: center; }
        .team-members { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem;}
        .team-member { background-color: #fff; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); padding: 1rem; }
        .team-member img { width: 150px; height: 200px; border-radius: 20px; object-fit: cover; margin-bottom: 0.5rem; border: 3px solid #ddd; }
        .team-member h4 { margin-bottom: 0.25rem; }
        .team-member p { font-size: 0.9rem; color: #666; }
        .testimonials-section { max-width: 1200px; margin: 0 auto; padding: 1.5rem;}
        .testimonials { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem;}
        .testimonial { background-color: #fff; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); padding: 1.5rem; text-align: left; border: 1px solid #ddd;}
        .testimonial p { margin-bottom: 0.5rem; line-height: 1.4;}
        .testimonial-author { font-style: italic; color: #666; text-align: right; margin-top: .5rem;}
        .merch-section { max-width: 1200px; margin: 0 auto; padding: 1.5rem; text-align: center;}
        .merch-items { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem;}
        .merch-item { background-color: #fff; border-radius: 8px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); padding: 1rem; text-align: center; border: 1px solid #ddd;}
        .merch-item img { width: 100%; height: auto; object-fit: cover; border-radius: 8px; margin-bottom: 0.5rem;}
        .merch-item h4 { margin-bottom: 0.5rem; color: #2c3e50;}
        .merch-item p { color: #666; margin-bottom: 0.75rem;}
        .merch-item .price { font-weight: bold; color: #e74c3c; margin-bottom: 0.5rem;}
        footer { text-align: center; padding: 1rem; background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%); color: white;}
        @media (max-width: 768px) {
            .nav-toggle { display: block;}
            nav ul { display: none;}
            header{ position: relative;}
            h1{ font-size: 1.8rem; }
            h2{ font-size: 1.6rem; }
            h3{ font-size: 1.4rem; }
            .plans-container { padding: 1rem; }
            .north-korea-image{ max-width: 90%;}
            .team-members{ grid-template-columns: 1fr;}
        }


        /* --- New Styles for Forms and Popups --- */
        .overlay {
            display: none; /* Hidden by default */
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5); /* Semi-transparent black */
            z-index: 1000; /* Above everything else */
            justify-content: center;
            align-items: center;
        }

        .overlay.active {
            display: flex; /* Show when active */
        }

        .popup {
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            padding: 2rem;
            width: 90%;  /* Responsive width */
            max-width: 500px; /* Maximum width */
            position: relative; /* For the close button */
        }

        .popup-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            font-size: 1.5rem;
            cursor: pointer;
            color: #999;
            border: none;       /* Remove default button styles */
            background: none;   /* Remove default button styles */
            padding: 0;        /* Remove default button styles */
            line-height: 1;    /* Ensure the × is properly aligned */
        }

        .popup-close:hover {
            color: #333;
        }

        .popup h3 {
            margin-bottom: 1rem;
            color: #2c3e50;
        }

        .popup-description {
            margin-bottom: 1.5rem;
            color: #666;
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: #333;
            font-weight: bold;
        }
        .form-group input[type="text"],
        .form-group input[type="email"],
        .form-group input[type="tel"],
        .form-group input[type="number"]
         {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1rem;
            transition: border-color 0.3s ease; /* Smooth transition for focus */
        }

        /*  Focus styles for inputs */
        .form-group input[type="text"]:focus,
        .form-group input[type="email"]:focus,
        .form-group input[type="tel"]:focus,
        .form-group input[type="number"]:focus
        {
            border-color: #2c3e50; /*  Highlight color */
            outline: none;          /*  Remove default outline */
            box-shadow: 0 0 5px rgba(44, 62, 80, 0.3);  /* Subtle glow */
        }


        .popup .price {
          font-size: 1.2rem;
          font-weight: bold;
          color: #e74c3c;
          margin-bottom: 1rem;
        }

        .popup .cta-button {
            width: 100%; /* Make the button full-width */
            margin-top: 1.5rem; /* More space above the button */
        }
        /*  Payment popup styles */
        .payment-popup {
          /*  You can reuse .popup styles for consistency */
          background-color: #fff;
          border-radius: 8px;
          box-shadow: 0 4px 12px rgba(0,0,0,0.2);
          padding: 2rem;
          width: 90%;
          max-width: 500px;
          position: relative;
        }

        .payment-popup h3 {
          margin-bottom: 1rem;
          color: #2c3e50;
        }
        .payment-form .form-group {
          margin-bottom: 1rem;
        }

        .payment-form label {
          display: block;
          margin-bottom: 0.3rem; /* less margin */
          color: #333;
        }

        .payment-form input[type="text"],
        .payment-form input[type="number"] {
          width: 100%;
          padding: 0.5rem; /* less padding */
          border: 1px solid #ccc; /* Lighter border */
          border-radius: 4px;
          font-size: 0.9rem; /* Slightly smaller font */
        }

        .payment-form .cta-button {
          width: 100%;
          padding: 0.6rem; /* Slightly smaller padding */
          margin-top: 1rem;
        }

        /* Loading Indicator */
        .loading-indicator {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 1rem 0;
        }
        .spinner {
          border: 4px solid rgba(0, 0, 0, 0.1);
          border-left-color: #2c3e50; /* Use your main color */
          border-radius: 50%;
          width: 30px;
          height: 30px;
          animation: spin 1s linear infinite;
        }

        @keyframes spin {
          to { transform: rotate(360deg); }
        }

        .success-message {
          text-align: center;
          margin-top: 2rem;
        }
        .success-icon {
          color: green;
          font-size: 3rem;
          margin-bottom: 1rem;
        }

        .success-text {
          font-size: 1.1rem;
          color: #333;
          margin-bottom: 1.5rem; /* Space before the close button */
        }

        .ask-expert-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1001; /* Above other content, but below overlays */
        }

        .ask-expert-icon {
            background-color: #2c3e50; /* Use your main color */
            color: #fff;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            font-size: 1.5rem; /* Adjust as needed */
            transition: background-color 0.3s ease;
        }
        .ask-expert-icon:hover{
            background-color: #34495e;
        }

        .ask-expert-chat {
            display: none; /* Hidden by default */
            position: absolute;
            bottom: 60px; /* Position above the icon */
            right: 0;
            width: 300px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            padding: 1rem;
            border: 1px solid #ddd;
            /*  Add a max-height and make it scrollable */
            max-height: 400px; /* Or whatever height you prefer */
            overflow-y: auto;
        }
        .ask-expert-chat.active{
            display: block;
        }

        .ask-expert-chat-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            border-bottom: 1px solid #eee;
            padding-bottom: 0.5rem;
        }

        .ask-expert-chat h4 {
            color: #2c3e50;
            margin-bottom: 0.5rem;
        }

        .ask-expert-close {
            cursor: pointer;
            color: #999;
            border: none;
            background: none;
            font-size: 1.2rem;
             padding: 0; /* remove default button padding */
            line-height: 1;
        }
        .ask-expert-close:hover{
            color: #333;
        }

        .ask-expert-messages {
            /*  Remove max-height here, it's on the chat container now */
            margin-bottom: 1rem;
        }
        .ask-expert-message {
            margin-bottom: 0.5rem;
            padding: 0.5rem;
            border-radius: 4px;
        }

        /* User message styling */
        .user-message {
            background-color: #e0e0e0; /* Light grey */
            color: #333;
            align-self: flex-end; /* Align to the right */
            max-width: 70%; /* Limit message width */
            margin-left: auto; /* Push to the right */
            border: 1px solid #ccc;
        }

        /* Expert message styling */
        .expert-message {
            background-color: #f0f8ff; /* Aliceblue */
            color: #333;
            align-self: flex-start;/* Align to the left */
             max-width: 70%;/* Limit message width */
             margin-right: auto; /* Push to the left */
            border: 1px solid #add8e6;
        }

        .ask-expert-input-container{
            border-top: 1px solid #eee;
            padding-top: 0.5rem;
        }

        /* Typing Indicator */
        .typing-indicator {
            display: flex;
            align-items: center;
            margin-bottom: 0.5rem;
            padding: 0.5rem;
            border-radius: 4px;
             background-color: #f0f8ff; /* Aliceblue */
              max-width: 70%;/* Limit message width */

        }

        .typing-dot {
            width: 8px;
            height: 8px;
            background-color: #888;
            border-radius: 50%;
            margin-right: 4px;
            animation: bounce 1.2s infinite;
        }
        .typing-dot:nth-child(2) {
          animation-delay: 0.2s;
        }
        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes bounce {
          0%, 100% { transform: translateY(0); }
          50% { transform: translateY(-5px); }
        }

        /* Style the select element */
        #questionSelect {
            width: 100%;
            padding: 0.5rem;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-size: 0.9rem;
            background-color: #fff;
            appearance: none; /* Remove default arrow */
            -webkit-appearance: none;
            -moz-appearance: none;
            /* Add a custom arrow (optional) */
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 5'%3E%3Cpath d='M0 0l4 5 4-5z' fill='%23999'/%3E%3C/svg%3E"); /* gray down arrow */
            background-repeat: no-repeat;
            background-position: right 0.5rem center;
            background-size: 8px 5px; /* Adjust size of the arrow */
        }
        /*  Hover and focus styles for the select */
        #questionSelect:hover,
        #questionSelect:focus {
            border-color: #2c3e50; /* Highlight color */
            outline: none;
            box-shadow: 0 0 3px rgba(44, 62, 80, 0.3);
        }


    </style>
</head>
<body>
    <header>
        <!-- Burger Button -->
        <button class="nav-toggle" aria-label="Toggle navigation">
            <span class="nav-toggle-bar"></span>
            <span class="nav-toggle-bar"></span>
            <span class="nav-toggle-bar"></span>
        </button>
        <nav>
            <!--  Navigation (will be hidden on mobile initially) -->
            <ul class="main-nav">
                <li><a href="#home">Главная</a></li>
                <li><a href="#tarify">Тарифы</a></li>
                <li><a href="#contacts">Контакты</a></li>
                <li><a href="#faq">FAQ</a></li>
                <li><a href="#our-team">Наша команда</a></li>
                <li><a href="#testimonials">Отзывы</a></li>
                <li><a href="#merch">Мерч</a></li> <!-- Added Merch Link -->
            </ul>
        </nav>
    </header>

    <main>
        <section id="home">
            <h1>Виза в КНДР</h1>
            <h2>Выберите тарифный план</h2>

            <img src="https://s0.rbk.ru/v6_top_pics/media/img/6/73/347259489356736.jpeg" alt="Северная Корея" class="north-korea-image">
        </section>

        <section id="tarify">
            <div class="plans-container">

                <div class="plan">
                    <h3>Basic</h3>
                    <ul>
                        <li>Виза</li>
                    </ul>
                    <p class="price">2999 руб</p>
                    <button class="cta-button" data-product="Basic">Заказать</button>
                </div>

                <div class="plan">
                    <h3>Starter</h3>
                    <ul>
                        <li>Виза</li>
                        <li>Билет на самолёт</li>
                    </ul>
                    <p class="price">5999 руб</p>
                   <button class="cta-button" data-product="Starter">Заказать</button>
                </div>

                <div class="plan">
                    <h3>Pro</h3>
                    <ul>
                        <li>Виза</li>
                        <li>Билет на самолёт</li>
                        <li>Проживание</li>
                    </ul>
                    <p class="price">10999 руб</p>
                    <button class="cta-button" data-product="Pro">Заказать</button>
                </div>

                <div class="plan">
                    <h3>Premium</h3>
                    <ul>
                        <li>Виза</li>
                        <li>Билет на самолёт</li>
                        <li>Проживание</li>
                        <li>Разрешение на ношение любой одежды и прически</li>
                    </ul>
                    <p class="price">19999 руб</p>
                   <button class="cta-button" data-product="Premium">Заказать</button>
                </div>

                <div class="plan">
                    <h3>Delux</h3>
                    <ul>
                        <li>Виза</li>
                        <li>Билет на самолёт</li>
                        <li>Проживание</li>
                        <li>Разрешение на ношение любой одежды и прически</li>
                        <li>Персональная встреча с Ким Чен Ыном</li>
                    </ul>
                    <p class="price">29999 руб</p>
                   <button class="cta-button" data-product="Delux">Заказать</button>
                </div>

                <div class="plan">
                    <h3>Enterprise</h3>
                    <ul>
                        <li>Виза</li>
                        <li>Билет на самолёт</li>
                        <li>Проживание</li>
                        <li>Разрешение на ношение любой одежды и прически</li>
                        <li>Персональная встреча с Ким Чен Ыном</li>
                        <li>Для больших компаний (от 10 человек)</li>
                    </ul>
                    <p class="price">от 99999 руб</p>
                    <button class="cta-button" data-product="Enterprise">Заказать</button>
                </div>

            </div>
        </section>

        <section id="our-team" class="our-team-section">
            <h2>Наша команда</h2>
            <div class="team-members">
                <div class="team-member">
                    <img src="https://i.ibb.co/zTL0PH4Y/photo-2025-02-24-20-25-21.jpg" alt="Иван Иванов">
                    <h4>Павел Сепчук</h4>
                    <p>Менеджер по работе с клиентами</p>
                </div>
                <div class="team-member">
                    <img src="https://i.ibb.co/spCByy93/photo-1-2025-02-24-20-14-34.jpg" alt="Мария Петрова">
                    <h4>Алексей Скуфьин</h4>
                    <p>Специалист по визам</p>
                </div>
                <div class="team-member">
                    <img src="https://i.ibb.co/KcwJhDCz/photo-1-2025-02-24-20-22-29.jpg" alt="Алексей Смирнов">
                    <h4>Марина Михайловна</h4>
                    <p>Руководитель отдела</p>
                </div>
                <div class="team-member">
                    <img src="https://i.ibb.co/SDwnS3pr/photo-3-2025-02-24-21-17-46.jpg" alt="Иван Иванов">
                    <h4>Дмитрий Ладесов</h4>
                    <p>Генеральный директор</p>
                </div>
                <div class="team-member">
                    <img src="https://i.ibb.co/9HDDJ424/photo-1-2025-02-24-21-17-46.jpg" alt="Мария Петрова">
                    <h4>Азамат Сагдиев</h4>
                    <p>Гид по Северной Корее</p>
                </div>
                <div class="team-member">
                    <img src="https://i.ibb.co/TBMvNXfB/photo-2-2025-02-24-21-17-46.jpg" alt="Алексей Смирнов">
                    <h4>Светлана Алексеевна</h4>
                    <p>Руководитель отдела продаж</p>
                </div>
            </div>
        </section>

        <!-- Merch Section -->
        <section id="merch" class="merch-section">
            <h2>Мерч</h2>
            <div class="merch-items">
                <div class="merch-item">
                    <img src="https://i.ibb.co/9kyCtVN2/photo-1-2025-02-24-22-37-37.jpg" alt="Футболка 1">
                    <h4>Футболка "Лидер"</h4>
                    <p>Классическая футболка с изображением лидера.</p>
                    <p class="price">1800 руб</p>
                    <button class="cta-button" data-product='Футболка "Лидер"'>Заказать</button>
                </div>
                <div class="merch-item">
                    <img src="https://i.ibb.co/Z1HG2DK0/photo-3-2025-02-24-22-37-37.jpg" alt="Футболка 2">
                    <h4>Футболка "Чосон"</h4>
                    <p>Футболка с Чосоном - корейским названием КНДР.</p>
                    <p class="price">1800 руб</p>
                    <button class="cta-button" data-product='Футболка "Чосон"'>Заказать</button>
                </div>
                <div class="merch-item">
                    <img src="https://i.ibb.co/8FqPnpn/photo-2-2025-02-24-22-37-37.jpg" alt="Футболка 3">
                    <h4>Футболка "КНДР"</h4>
                    <p>Футболка с флагом КНДР. Качетвенный материал.</p>
                    <p class="price">1500 руб</p>
                    <button class="cta-button" data-product='Футболка "КНДР"'>Заказать</button>
                </div>
                <div class="merch-item">
                    <img src="https://i.ibb.co/kgk0b1zT/photo-1-2025-02-24-22-53-23.jpg" alt="Футболка 3">
                    <h4>Худи "Чосон"</h4>
                    <p>Хади с Чосоном - корейским названием КНДР.</p>
                    <p class="price">5000 руб</p>
                    <button class="cta-button" data-product='Худи "Чосон"'>Заказать</button>
                </div>
            </div>
        </section>

        <section id="testimonials" class="testimonials-section">
          <h2>Отзывы</h2>
          <div class="testimonials">
              <div class="testimonial">
                <p>"Очень доволен сервисом! Визу оформили быстро и без проблем. Спасибо!"</p>
                <p class="testimonial-author">- Андрей</p>
              </div>
               <div class="testimonial">
                <p>"Рекомендую! Легко и удобно, все четко объяснили, помогли со всеми вопросами!"</p>
                <p class="testimonial-author">- Екатерина</p>
              </div>
               <div class="testimonial">
                <p>"Все отлично. Получил визу за 12 дней, поддержка всегда была на связи."</p>
                <p class="testimonial-author">- Сергей</p>
              </div>
                <div class="testimonial">
                  <p>"Выбрал тариф Premium. Все включено, очень удобно для тех, кто ценит свое время."</p>
                  <p class="testimonial-author">- Михаил</p>
              </div>
               <div class="testimonial">
                  <p>"Оформляли групповую визу. Остались довольны, менеджеры профессионально все организовали."</p>
                  <p class="testimonial-author">- Группа туристов</p>
                </div>
          </div>
        </section>

        <section id="faq" class="faq-section">
            <h2>Часто задаваемые вопросы</h2>
            <div class="faq-item">
                <div class="faq-question">
                  <span>Как быстро я получу визу?</span>
                  <span class="faq-icon">+</span>
                </div>
                <div class="faq-answer">
                    Обычно оформление визы занимает от 10 до 20 рабочих дней. При некоторых объстоятельствах (к примеру, нарушение договора) может затянуться до 2 месяцев
                </div>
            </div>
            <div class="faq-item">
              <div class="faq-question">
                <span>Какие документы нужны для оформления визы?</span>
                <span class="faq-icon">+</span>
              </div>

                <div class="faq-answer">
                    Вам понадобится загранпаспорт, фотография и заполненная анкета.
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question">
                  <span>Есть ли гарантия возврата из КНДР?</span>
                  <span class="faq-icon">+</span>
                </div>
  
                  <div class="faq-answer">
                      К сожалению, наша команда не предоставляет возможности вернуться из Северной Корее, но по дополнительной плате (120 тыс. рублей) можно получить гарантию на возврат, только если у вас есть связи с правительством КНДР.
                  </div>
              </div>

            <div class="faq-item">
               <div class="faq-question">
                    <span>Могу ли я изменить свой тарифный план?</span>
                    <span class="faq-icon">+</span>
                </div>
                <div class="faq-answer">
                    Да, вы можете изменить свой тарифный план в любое время, связавшись с нашей службой поддержки по почте предоставленной в <a href="#contacts">контактах</a>.
                </div>
            </div>
        </section>

    </main>

    <footer>
        <section id="contacts" class="contact-section">
            <h2>Контакты</h2>
            <p>Email: info@kndr.visa.kr</p>
            <p>Телефон: +7 (495) 123-45-67</p>
            <p>Адрес: Москва, ул. Ким Ир Сена, д. 17</p>
        </section>
        <p>© 2025 KNDR Visa.  Весь контент является приколом.</p>
    </footer>

    <div class="ask-expert-container">
        <div class="ask-expert-icon" id="askExpertIcon">
            ?
        </div>
        <div class="ask-expert-chat" id="askExpertChat">
            <div class="ask-expert-chat-header">
                <h4>Спросите эксперта</h4>
                <button class="ask-expert-close" id="closeAskExpert">×</button>
            </div>
            <div class="ask-expert-messages" id="expertMessages">
               <!-- Messages will be displayed here -->

            </div>
             <div class="ask-expert-input-container">
                <select id="questionSelect">
                    <option value="">Выберите вопрос...</option>
                    <!-- Questions will be added here via JavaScript -->
                </select>
            </div>
            <div class="typing-indicator" id="typingIndicator" style="display: none;">
                <span class="typing-dot"></span>
                <span class="typing-dot"></span>
                <span class="typing-dot"></span>
            </div>
        </div>
    </div>

    

     <!-- Order Form Popup -->
    <div class="overlay" id="orderOverlay">
        <div class="popup">
            <button class="popup-close" id="closeOrderPopup">×</button>
            <h3 id="popupTitle"></h3>
            <p class="popup-description" id="popupDescription"></p>
            <p class="price" id="popupPrice"></p>
            <form id="orderForm">
                <div class="form-group">
                    <label for="fullName">Имя и Фамилия</label>
                    <input type="text" id="fullName" name="fullName" required>
                </div>
                <div class="form-group">
                    <label for="phoneNumber">Номер телефона (необязательно)</label>
                    <input type="tel" id="phoneNumber" name="phoneNumber">
                </div>
                <div class="form-group">
                    <label for="email">Email</label>
                    <input type="email" id="email" name="email" required>
                </div>
                <div class="form-group">
                    <label for="country">Страна</label>
                    <input type="text" id="country" name="country" required>
                </div>
                <div class="form-group">
                    <label for="city">Город</label>
                    <input type="text" id="city" name="city" required>
                </div>
                 <div class="form-group">
                    <label for="address">Адрес</label>
                    <input type="text" id="address" name="address" required>
                </div>

                <button type="submit" class="cta-button">Заказать</button>
            </form>
        </div>
    </div>


    <!-- Payment Form Popup -->
    <div class="overlay" id="paymentOverlay">
      <div class="payment-popup">
           <button class="popup-close" id="closePaymentPopup">×</button>
          <h3 id="paymentTitle">Оплата</h3>
            <div id="paymentContent">
              <form class="payment-form" id="paymentForm">
                <div class="form-group">
                  <label for="cardNumber">Номер карты</label>
                  <input type="text" id="cardNumber" name="cardNumber" placeholder="XXXX XXXX XXXX XXXX" required>
                </div>
                <div class="form-group">
                  <label for="expiryDate">Срок действия</label>
                  <input type="text" id="expiryDate" name="expiryDate" placeholder="MM/ГГ" required>
                </div>
                <div class="form-group">
                  <label for="cvv">CVV</label>
                  <input type="number" id="cvv" name="cvv" placeholder="XXX" required>
                </div>
                <button type="submit" class="cta-button">Оплатить</button>
              </form>
              <div class="loading-indicator" style="display: none;">
                  <div class="spinner"></div>
              </div>
          </div>
          <!--  Success Message (initially hidden) -->
          <div class="success-message" style="display: none;">
            <div class="success-icon">✔</div>
            <p class="success-text" id="successText"></p>
            <button class="cta-button" id="closeSuccessPopup">Закрыть</button>
        </div>
    </div>
  </div>

  <script>
    //  JavaScript for the FAQ section
    document.querySelectorAll('.faq-question').forEach(question => {
        question.addEventListener('click', () => {
            const faqItem = question.parentElement;
            faqItem.classList.toggle('active');
        });
    });

    // JavaScript for the Burger Menu
      const navToggle = document.querySelector('.nav-toggle');
      const navMenu = document.querySelector('nav ul');

      navToggle.addEventListener('click', () => {
          navMenu.classList.toggle('show');  // Add/remove 'show' class
          navToggle.classList.toggle('open'); // Add/remove 'open' class for the animation

          //  Crucial:  Handle case where main nav is *also* visible (desktop)
          if (window.innerWidth <= 768) { //  Only apply on mobile
              navMenu.classList.add('mobile-nav'); // Ensure correct styling on mobile
           }
      });

       // Hide the mobile menu when the window is resized above 768px
      window.addEventListener('resize', () => {
          if (window.innerWidth > 768) {
            navMenu.classList.remove('show', 'mobile-nav');
            navToggle.classList.remove('open'); // reset the button state
            navMenu.style.display = ''; // remove any inline display styles
          } else {
              navMenu.classList.add('mobile-nav'); // Ensure .mobile-nav is added
          }
      });

      // Initial check on load
      if (window.innerWidth <= 768) {
          navMenu.classList.add('mobile-nav');
      }

      // ---  New JavaScript for Forms and Popups ---

      const orderOverlay = document.getElementById('orderOverlay');
      const paymentOverlay = document.getElementById('paymentOverlay');
      const closeOrderPopup = document.getElementById('closeOrderPopup');
      const closePaymentPopup = document.getElementById('closePaymentPopup');
      const closeSuccessPopup = document.getElementById('closeSuccessPopup');
      const orderForm = document.getElementById('orderForm');
      const paymentForm = document.getElementById('paymentForm');
      const popupTitle = document.getElementById('popupTitle');
      const popupDescription = document.getElementById('popupDescription');
      const popupPrice = document.getElementById('popupPrice');
      const paymentContent = document.getElementById('paymentContent');
      const successMessage = document.querySelector('.success-message');
      const successText = document.getElementById('successText');
      const loadingIndicator = document.querySelector('.loading-indicator');

      let currentProductType = ''; // 'tariff' or 'merch'
      let currentProductName = '';
      let currentProductPrice = '';

      // Function to open the order form popup
      function openOrderForm(productName, productPrice) {
            // Determine product type
            // Escape the product name for use in a CSS selector
            const escapedProductName = productName.replace(/"/g, '\\"'); 
            currentProductType = document.querySelector(`[data-product="${escapedProductName}"]`).closest('.plan') ? 'tariff' : 'merch';
            currentProductName = productName;
            currentProductPrice = productPrice;

            popupTitle.textContent = `Заказать ${productName}`;
            // You might want to add more detailed descriptions based on productName.
            popupDescription.textContent = `Оформление заказа на ${productName}.`;
            popupPrice.textContent = `Цена: ${productPrice}`;


            orderOverlay.classList.add('active');
        }

      // Event listeners for "Заказать" buttons
      document.querySelectorAll('.cta-button[data-product]').forEach(button => {
          button.addEventListener('click', (event) => {
              event.preventDefault(); // Prevent default anchor behavior
              const productName = button.dataset.product;
              const productPrice = button.parentElement.querySelector('.price').textContent;
              openOrderForm(productName, productPrice);
          });
      });

      // Close order form popup
      closeOrderPopup.addEventListener('click', () => {
          orderOverlay.classList.remove('active');
          orderForm.reset(); // Clear the form
      });


      // Order form submission
      orderForm.addEventListener('submit', (event) => {
          event.preventDefault();
          // Basic Form Validation (you can add more)
          if (!orderForm.fullName.value || !orderForm.email.value || !orderForm.country.value || !orderForm.city.value || !orderForm.address.value) {
              alert('Пожалуйста, заполните все обязательные поля.');
              return;
          }

          // Close order form and open payment form
          orderOverlay.classList.remove('active');
          paymentOverlay.classList.add('active');
      });



      // Close payment popup
      closePaymentPopup.addEventListener('click', () => {
        paymentOverlay.classList.remove('active');
        paymentForm.reset(); // Clear the form
        paymentContent.style.display = 'block';       // Reset display
        successMessage.style.display = 'none';     // Reset display
        loadingIndicator.style.display = 'none';    // Reset display
      });

      //Close Success popup
      closeSuccessPopup.addEventListener('click', () => {
          paymentOverlay.classList.remove('active'); // Close the *payment* overlay
          paymentForm.reset();          // Clear form
          paymentContent.style.display = 'block';  // Reset
          successMessage.style.display = 'none'; // Reset
      });


      // Payment form submission
      paymentForm.addEventListener('submit', (event) => {
          event.preventDefault();
          // Basic form validation
          if(!paymentForm.cardNumber.value || !paymentForm.expiryDate.value || !paymentForm.cvv.value){
              alert("Пожалуйста, заполните все поля");
              return;
          }

          // Simulate payment processing
          paymentContent.style.display = 'none';  // Hide form
          loadingIndicator.style.display = 'flex'; // Show loader

          setTimeout(() => {
              loadingIndicator.style.display = 'none'; // Hide loader
              successMessage.style.display = 'block';  // Show success

              // Set success message based on product type
              if (currentProductType === 'tariff') {
                  successText.textContent = 'Спасибо за покупку, в течении 2 часов с вами свяжется наш специалист по предоставленной почте или номеру телефона';
              } else {
                  successText.textContent = 'Спасибо за покупку, ваш заказ подтверждён, в течении 12 дней товар будет доставлен по указанному адресу нашим курьером';
              }

          }, 2000); // Simulate 2-second processing
      });


      const askExpertIcon = document.getElementById('askExpertIcon');
        const askExpertChat = document.getElementById('askExpertChat');
        const closeAskExpert = document.getElementById('closeAskExpert');
        const expertMessages = document.getElementById('expertMessages');
        const questionSelect = document.getElementById('questionSelect');
        const typingIndicator = document.getElementById('typingIndicator');

        const questions = [
            { question: "Как быстро я получу визу?", answer: "Обычно оформление визы занимает от 10 до 20 рабочих дней." },
            { question: "Какие документы нужны?", answer: "Вам понадобится загранпаспорт, фотография, заполненная анкета и подтверждение бронирования тура." },
            { question: "Можете ли вы помочь с бронированием тура?", answer: "Да, мы можем помочь вам с бронированием тура через наших проверенных партнеров." },
            { question: "Какая стоимость визы?", answer: "Стоимость визы зависит от выбранного вами тарифного плана." },
            { question: "Разрешено ли ношение любой прически в КНДР?", answer: "Да, ношение любой прически в КНДР разрешено только по тарифу Premium и выше, либо по дополнительному согласованию." },
            { question: "Можно ли фотографировать в КНДР?", answer: "Фотографировать можно, но с ограничениями.  Нельзя фотографировать военных, строительные объекты и некоторые другие объекты.  Всегда следуйте указаниям гида." },
            { question: "Какую валюту брать с собой?", answer: "Рекомендуется брать с собой евро или доллары США.  Обмен валюты производится в специальных обменных пунктах." },
            { question: "Нужна ли страховка для поездки?", answer: "Да, наличие туристической страховки обязательно." },
            { question: "Есть ли ограничения на ввоз вещей?", answer: "Да, есть ограничения на ввоз некоторых предметов, таких как дроны, книги и фильмы о Северной Корее, оружие и наркотики.  Полный список можно найти на нашем сайте." },
            { question: "Можно ли пользоваться мобильным телефоном?", answer: "Использование местных SIM-карт разрешено, но международный роуминг может быть недоступен или очень дорогим.  Wi-Fi доступен в некоторых отелях." },
            { question: "Какие сувениры можно привезти?", answer: "Можно привезти традиционные корейские сувениры, такие как вышивка, керамика, марки и книги (разрешенные к вывозу)." },
            { question: "Как одеваться в КНДР?", answer: "Рекомендуется скромная одежда, закрывающая плечи и колени.  Избегайте одежды с американской или южнокорейской символикой." },
            { question: "Нужно ли знать корейский язык?", answer: "Знание корейского языка не обязательно, но приветствуется.  Вас будет сопровождать гид, владеющий русским языком." },
            { question: "Какая еда в Северной Корее?", answer: "Корейская кухня разнообразна и включает в себя рис, лапшу, овощи, мясо и морепродукты.  Популярные блюда: кимчи, пибимпап, куксу." },
            { question: "Безопасно ли путешествовать в КНДР?", answer: "Путешествие в КНДР с аккредитованным туроператором, как правило, безопасно.  Важно соблюдать местные законы и правила, а также следовать указаниям гида." },
            { question: "Как получить визу для ребенка?", answer: "Для получения визы для ребенка требуется тот же пакет документов, что и для взрослого, а также свидетельство о рождении и нотариально заверенное согласие на выезд от обоих родителей (если ребенок путешествует с одним из родителей или без родителей)." },
            { question: "Можно ли путешествовать самостоятельно?", answer: "Самостоятельные путешествия в КНДР не разрешены.  Все туристы должны путешествовать в составе организованной группы с аккредитованным туроператором." },
            { question: "Что делать, если я потерял паспорт в КНДР?", answer: "Немедленно сообщите об этом вашему гиду и в посольство вашей страны." },
            { question: "Какие прививки нужны?", answer: "Рекомендуется проконсультироваться с врачом по поводу прививок перед поездкой.  Обязательных прививок нет." },
            { question: "Есть ли дресс-код при посещении мавзолея Ким Ир Сена?", answer: "Да, при посещении мавзолея требуется строгая одежда: темный костюм и галстук для мужчин, темное платье или костюм для женщин.  Запрещены джинсы, шорты, открытая обувь." },
            { question: "Можно ли провозить с собой лекарства?", answer: "Можно провозить лекарства для личного пользования, но желательно иметь при себе рецепт от врача." },
            { question: "Есть ли возможность посетить демилитаризованную зону (ДМЗ)?", answer: "Да, посещение ДМЗ возможно в составе организованной экскурсии." },
            { question: "Можно ли общаться с местными жителями?", answer: "Общение с местными жителями ограничено и возможно только в присутствии гида." },
            { question: "Что будет, если нарушить правила?", answer: "Нарушение правил может привести к серьезным последствиям, включая штрафы, задержание и депортацию." },
            { question: "Можно ли использовать кредитные карты?", answer: "Использование кредитных карт в КНДР практически невозможно.  Рекомендуется иметь при себе наличные деньги." },
            { question: "Есть ли интернет в КНДР?", answer: "Доступ в интернет ограничен и предоставляется в основном в отелях для иностранцев." },
            { question: "Можно ли вывозить антиквариат?", answer: "Вывоз антиквариата и предметов, представляющих культурную ценность, запрещен без специального разрешения." },
            { question: "Какие розетки используются в КНДР?", answer: "В КНДР используются розетки типов C и F (европейский стандарт).  Напряжение в сети 220 В." },
            { question: "Нужно ли давать чаевые?", answer: "Чаевые не являются обязательными, но приветствуются." },
            { question: "Как оформить визу, если я журналист?", answer: "Для журналистов предусмотрен особый порядок оформления визы. Вам необходимо обратиться в посольство КНДР для получения подробной информации." },
            { question: "Могу ли я посетить КНДР, если у меня есть виза Южной Кореи?", answer: "Наличие визы Южной Кореи не является препятствием для посещения КНДР, но может вызвать дополнительные вопросы при оформлении визы." }

        ];

        // Populate the select options
        questions.forEach(q => {
            const option = document.createElement('option');
            option.value = q.question;
            option.textContent = q.question;
            questionSelect.appendChild(option);
        });

        askExpertIcon.addEventListener('click', () => {
            askExpertChat.classList.toggle('active');
        });

        closeAskExpert.addEventListener('click', () => {
            askExpertChat.classList.remove('active');
        });
        // Function to add a message to the chat
        function addMessage(message, type) {
            const messageDiv = document.createElement('div');
            messageDiv.classList.add('ask-expert-message', type);
            messageDiv.textContent = message;
            expertMessages.appendChild(messageDiv);
            // Scroll to the bottom of the messages container
             expertMessages.scrollTop = expertMessages.scrollHeight;
        }

        questionSelect.addEventListener('change', () => {
            const selectedQuestion = questionSelect.value;
            if (selectedQuestion) {
                // Add user's question to the chat
                addMessage(selectedQuestion, 'user-message');

                // Find the answer to the selected question
                const selectedAnswer = questions.find(q => q.question === selectedQuestion).answer;

                 // Show typing indicator
                typingIndicator.style.display = 'flex';

                // Simulate typing delay and add expert's answer
                setTimeout(() => {
                    typingIndicator.style.display = 'none'; // Hide typing indicator
                    addMessage(selectedAnswer, 'expert-message');
                     // Reset select to default option
                    questionSelect.value = "";
                }, 3000);


            }
        });

  </script>
</body>
</html>
